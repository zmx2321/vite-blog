import{_ as l,o as _,c as e,e as o}from"./app.eca400a4.js";const d=JSON.parse('{"title":"MySQL升级5.7,sql语句报错解决","description":"","frontmatter":{},"headers":[],"relativePath":"pages/note/back/mysql-note/mysql-note-2.md","filePath":"pages/note/back/mysql-note/mysql-note-2.md","lastUpdated":1700192468000}'),s={name:"pages/note/back/mysql-note/mysql-note-2.md"},t=o('<h1 id="mysql升级5-7-sql语句报错解决" tabindex="-1">MySQL升级5.7,sql语句报错解决 <a class="header-anchor" href="#mysql升级5-7-sql语句报错解决" aria-label="Permalink to &quot;MySQL升级5.7,sql语句报错解决&quot;">​</a></h1><blockquote><p>MySQL升级5.7之后经常会出现这种错误：[Err] 1055 - Expression #1 of ORDER BY clause is not in GROUP BY clause and contains nonaggregated column &#39;information_schema.PROFILING.SEQ&#39;,虽然不影响SQL执行，但感觉不好</p></blockquote><ol><li>查询一下配置看看具体的情况</li></ol><ul><li><code>select @@sql_mode;</code></li><li>ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION <ul><li>其中ONLY_FULL_GROUP_BY就是造成这个错误的罪魁祸首</li><li>对于group by聚合操作,如果在select中的列没有在group by中出现,那么这个SQL是不合法的,因为列不在group by从句中,所以设置了sql_mode=only_full_group_by的数据库,在使用group by时就会报错</li></ul></li></ul><ol start="2"><li>找到MySQL的配置文件</li></ol><ul><li>Windows系统配置文件为安装MySQL目录下的my.ini文件，linux系统是/etc/my.cnf文件，查询sql_mode字段，我并没有在配置文件中找到这个关键字,所以我手动添加进去 <ul><li><code>sql_mode = STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</code><ul><li>一定要添加在[mysqld]配置内，这样添加完后重启mysql才会生效</li></ul></li></ul></li></ul><ol start="3"><li>重启mysql</li></ol><ul><li><code>service mysqld restart;</code></li></ul><ol start="4"><li>刷新页面报错信息消失成功解决，再次连接上数据库查看sql_mode配置</li></ol><ul><li><code>select @@sql_mode;</code><ul><li>STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</li></ul></li></ul>',10),i=[t];function a(n,c,O,E,r,R){return _(),e("div",null,i)}const N=l(s,[["render",a]]);export{d as __pageData,N as default};
//# sourceMappingURL=pages_note_back_mysql-note_mysql-note-2.md.6b17ed4c.js.map

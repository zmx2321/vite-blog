import{_ as t,r as e,o as r,c,b as s,d as n,a,w as l,e as p}from"./app.7f3ff873.js";const _=JSON.parse('{"title":"kibana使用进阶","description":"","frontmatter":{},"headers":[],"relativePath":"pages/note/other/elk-note/elk-note-3.md","filePath":"pages/note/other/elk-note/elk-note-3.md","lastUpdated":1700115938000}'),E={name:"pages/note/other/elk-note/elk-note-3.md"},y=s("h1",{id:"kibana使用进阶",tabindex:"-1"},[n("kibana使用进阶 "),s("a",{class:"header-anchor",href:"#kibana使用进阶","aria-label":'Permalink to "kibana使用进阶"'},"​")],-1),u=s("h2",{id:"_1-graph",tabindex:"-1"},[n("1. Graph "),s("a",{class:"header-anchor",href:"#_1-graph","aria-label":'Permalink to "1. Graph"'},"​")],-1),i=s("a",{href:"https://www.elastic.co/guide/en/kibana/7.11/xpack-graph.html",target:"_blank",rel:"noreferrer"},"图形分析组件",-1),F=p(`<h3 id="_1-1-注意及说明" tabindex="-1">1.1 注意及说明 <a class="header-anchor" href="#_1-1-注意及说明" aria-label="Permalink to &quot;1.1 注意及说明&quot;">​</a></h3><ul><li>Graph是集成在X-pack里的，就是说，只有安装了X-pack插件才会有Graph</li></ul><h3 id="_1-2-目标" tabindex="-1">1.2. 目标 <a class="header-anchor" href="#_1-2-目标" aria-label="Permalink to &quot;1.2. 目标&quot;">​</a></h3><ul><li>制作一张图表</li><li>方便地观察数据直接的联系</li><li>便于产品的规划</li><li>便于编写程序的算法</li></ul><h3 id="_1-3-使用示例" tabindex="-1">1.3. 使用示例 <a class="header-anchor" href="#_1-3-使用示例" aria-label="Permalink to &quot;1.3. 使用示例&quot;">​</a></h3><ol><li>创建mapping</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">PUT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;mappings&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;log&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">&quot;properties&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: {</span><span style="color:#9ECBFF;">&quot;type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;integer&quot;</span><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: {</span><span style="color:#9ECBFF;">&quot;type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;keyword&quot;</span><span style="color:#E1E4E8;">},  </span><span style="color:#6A737D;">// type改成keyword避免分词产生的问题</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: {</span><span style="color:#9ECBFF;">&quot;type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;keyword&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">PUT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;mappings&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;log&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#032F62;">&quot;properties&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: {</span><span style="color:#032F62;">&quot;type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;integer&quot;</span><span style="color:#24292E;">},</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: {</span><span style="color:#032F62;">&quot;type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;keyword&quot;</span><span style="color:#24292E;">},  </span><span style="color:#6A737D;">// type改成keyword避免分词产生的问题</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: {</span><span style="color:#032F62;">&quot;type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;keyword&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="2"><li>确认mapping</li></ol><ul><li><code>GET /viewtest/_mapping</code></li></ul><ol start="3"><li>导入数据</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;a&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;view&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">2</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;b&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;view&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">3</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;c&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;comment&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">4</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;a&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;view&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">5</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;b&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;view&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">6</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;c&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;comment&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">7</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;b&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;view&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">8</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;b&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;comment&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">9</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;b&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;favorite&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">10</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;b&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;view&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">11</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;b&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;comment&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">12</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;d&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;view&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">13</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;a&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;view&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">14</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;a&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;comment&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">viewtest</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">log</span><span style="color:#F97583;">/</span><span style="color:#79B8FF;">15</span></span>
<span class="line"><span style="color:#E1E4E8;">{  </span><span style="color:#9ECBFF;">&quot;uid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;product&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;d&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#9ECBFF;">&quot;operation&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;view&quot;</span><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;view&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">2</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;b&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;view&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">3</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;c&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;comment&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">4</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;view&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">5</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;b&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;view&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">6</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;c&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;comment&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">7</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;b&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;view&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">8</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;b&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;comment&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">9</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;b&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;favorite&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">10</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">4</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;b&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;view&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">11</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">4</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;b&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;comment&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">12</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">4</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;d&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;view&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">13</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;view&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">14</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;comment&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">POST</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">viewtest</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">log</span><span style="color:#D73A49;">/</span><span style="color:#005CC5;">15</span></span>
<span class="line"><span style="color:#24292E;">{  </span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;product&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;d&quot;</span><span style="color:#24292E;">,  </span><span style="color:#032F62;">&quot;operation&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;view&quot;</span><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><ol start="4"><li>确认数据</li></ol><ul><li><code>GET /viewtest/_search</code></li></ul><ol start="5"><li>进入Management创建索引模式</li><li>进入Discover验证数据</li><li>进入graph创建图表</li></ol><ul><li>选择索引模式，确认数据源</li><li>点击右边加号选择顶点的字段</li><li>按住shift再点击某个顶点，可以取消或者重新开启某个顶点</li><li>点击右上角设置(settings)</li><li>取消勾选Significant links</li><li>设置最小连接次数(certainty) <ul><li>如果两个记录之间简历的连接少于2，就不会建立连接</li><li>设置2有bug，官方建议设置1</li></ul></li><li>在旁边搜索框输入3(用户名)，点击搜索，就会出现连接</li><li>右上角面板有对链接节点的相关设置 <ul><li>点击all选择所有节点，然后点击链接link</li><li>再连一次以防出错</li></ul></li><li>线条粗细表示关联关系，越粗表示关联关系越强</li><li>可以合并顶点，shift选中两个顶点，然后点击右边group，会把两个顶点合并起来计算关系，也可以修改组名称，统一也可以点击ungroup解除合并</li></ul><ol start="8"><li>保存图表</li></ol><ul><li>之后我们可以在右上角点击open打开图表</li></ul><h2 id="_2-timelion" tabindex="-1">2. Timelion <a class="header-anchor" href="#_2-timelion" aria-label="Permalink to &quot;2. Timelion&quot;">​</a></h2>`,18),q=s("a",{href:"https://www.elastic.co/guide/cn/kibana/current/timelion.html",target:"_blank",rel:"noreferrer"},"时序分析组件",-1),C=p('<h3 id="_2-1-注意及说明" tabindex="-1">2.1 注意及说明 <a class="header-anchor" href="#_2-1-注意及说明" aria-label="Permalink to &quot;2.1 注意及说明&quot;">​</a></h3><ul><li><p>流程</p><ul><li>数据源/索引 =&gt; 表达式 =&gt; 时序分析图</li></ul></li><li><p>选择一组随机生成的日志文件作为示例</p><ul><li>在Disvover中，确定数据源是否可用</li><li>进入到Timelion界面 <ul><li>右上角docs为他的文档</li><li>可以查询各种表达式和作用，点开可以查看当前表达式的参数</li><li>上面有一个链接可以进行学习</li></ul></li><li>复制表达式到输入框图表就会显示出来了 <ul><li><code>.es(*).color(#f66), .es(字段)</code> =&gt; 组合表达式</li><li><code>.es(*).lines(fill=3)</code> =&gt; 筛选</li><li><code>.es(&#39;字段&#39;).divide(.es()).mutiply(100)</code> =&gt; 算数表达式(百分比)</li></ul></li><li>保存 <ul><li>可以只保存在时序图表页面，也可以保存在仪表台</li></ul></li></ul></li></ul>',2);function d(b,B,m,h,v,g){const o=e("font");return r(),c("div",null,[y,u,s("blockquote",null,[s("p",null,[i,n("：图形分析功能使您可以发现ElasticSearch索引中的项目如何关联，"),a(o,{color:"#f00"},{default:l(()=>[n("您可以探索索引项之间的联系，并查看哪些联系最有意义。")]),_:1}),n("从欺诈检测到推荐引擎，这在各种应用中都非常有用。例如，图形浏览可以帮助您发现黑客所针对的网站漏洞，从而可以加固您的网站。或者，您可以向电子商务客户提供基于图的个性化推荐。")])]),F,s("blockquote",null,[s("p",null,[q,n("：时序控件是一款时间序列数据可视化工具，它可以将多种独立的数据源合并呈现到一张视图上。它是"),a(o,{color:"#f00"},{default:l(()=>[n("由一个简单的表达式语言驱动的，用来检索时间序列数据，执行计算得出复杂问题的答案，并可视化结果。")]),_:1})])]),C])}const A=t(E,[["render",d]]);export{_ as __pageData,A as default};
